{% extends 'base.html' %}

{% load static %}

{% block javascript %}
  <script src="{% static 'quest.js' %}"></script>
{% endblock %}

{% block content %}
<!DOCTYPE html>
<html>
<head>
	<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous"> -->
	<title> qboard name </title>
	<div align=center>
		<h1> qboard name </h1>
		<h2> qboard desc </h2>
		<h3> qboard stars </h3>
	</div>
	<hr>
</head>
<style>
.container-fluid {
    height: 100%;
    padding-left: 25px;
    padding-right: 25px;
}

.row-first {

    padding-bottom: 5px;
}
.card {
    margin: 0 auto;
    float: none;
    margin-bottom: 10px;
}
.center {
	text-align: center;
}
</style>
<body>
	<p align="center">
	<button onclick="add_quest()"5>
		<span class="glyphicon glyphicon-plus"></span>
		Add quest
	</button>
	</p>
	<table class="table" id="quest-table">
	</table>

	<div class="modal fade" id="modal">
    	<div class="modal-dialog">
      		<div class="modal-content">
      		</div>
    	</div>
    </div>
	{% if form.is_valid %}
	<div class="container-fluid">
		<div class="row h-100 justify-content-center">
			<div class="row row-first h-50 ">
				{% for quest in quest_list %}
				<div class="col-4 mb-2">
					<div class="card h-100">
						<div class="card-header text-dark bg-light text-center text-uppercase">
						{{ quest.name }}
						</div>
						<div class="center quest_card">
							<b>Description:</b> {{ quest.description }} <br>
							<b>Required stars:</b> {{ quest.stars_given }} <br>
							<b>Dibs:</b>
							{% if quest.dropdown == "Everyone" %}
								Everyone
							{% else %}
								{{ quest.student1 }} <br>
								{{ quest.student2 }} <br>
								{{ quest.student3 }}
							{% endif %}
						</div>
		        	</div>
			    </div>
			    {% endfor %}
			</div>
		</div>
	</div>
	<br>
	<div hidden id="form">
	<hr>
		<form action="" method="POST">
				{% csrf_token %}
				{{ form.as_p }}
			<input type="submit" value="Add">
		</form>
	</div>
	{% else %}
	<div hidden id="form">
		<form action="" method="POST">
				{% csrf_token %}
				{{ form.as_p }}
			<input type="submit" value="Add">
		</form>
		<br>
	</div>
	{% endif %}
	<script>
		var showForm = document.getElementById("form");
		function add_quest() {
			if (showForm.style.display == "none") {
					showForm.style.display = "block";
				} else {
					showForm.style.display = "block";
				}
		}
	</script>
	<hr>
	<a href="/questboard" style="color:red"> &#8249; go back to Questboards </a> &nbsp;
</body>
</html>
 {% endblock %}